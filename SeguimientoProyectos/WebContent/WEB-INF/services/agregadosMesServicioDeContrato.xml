<?xml version="1.0" encoding="ISO-8859-1"?>

<service:service-group
xmlns:service="http://pcm.framework.org/service"
	xmlns:xs="http://www.w3.org/2001/XMLSchema" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://pcm.framework.org/service services.xsd">
	
	<service name="GestionAgregadosMesServicio" profile="ADMINISTRADOR, CONSULTOR_UTE">

		<action event="detail" submitError="GestionAgregadosMesServicio.detail"
			submitSucces="GestionAgregadosMesServicio.detail">

			<viewComponent>
				<form columns="51" title="Datos facturacion por servicio y mes">
					<fieldViewSet entitymodel="facturacionMesPorServicio"
						nameSpace="facturacionMesPorServicioForm">

						<fieldset legend="Resumen mes servicio">
							<fieldView mappingTo="1" hidden="true" />
							<fieldView mappingTo="2" editable="false"/>
							<fieldView mappingTo="3" editable="false" type="select">
								<optionValues entitymodel="mes"
									descrMappingTo="2">
								</optionValues>
							</fieldView>
							<fieldView mappingTo="4" editable="false" type="select">
								<optionValues entitymodel="concurso"
									descrMappingTo="2">
								</optionValues>
							</fieldView>
							<fieldView mappingTo="5" editable="false" type="select">
								<optionValues entitymodel="servicio"
									descrMappingTo="2">
								</optionValues>
							</fieldView>
							
							<fieldView separator="br" />
							<fieldView separator="br" />
							
							<fieldView mappingTo="8" editable="false"/>
							<fieldView mappingTo="6" editable="false"/>
							<fieldView mappingTo="7" editable="false"/>
							
						</fieldset>
					</fieldViewSet>
				</form>
				
				<grid title="Listado de mensualidades de facturacion por departamento" dependsOf="facturacionMesPorServicioForm" orderDirection="asc"
					defaultOrderField="facturacionMesPorDpto.1" eventsRegistered="detail"
					serviceRef="GestionAgregadosMesDpto">
					<fieldViewSet entitymodel="facturacionMesPorDpto"
						nameSpace="facturacionMesPorDpto">
						<fieldView mappingTo="1" hidden="true" />
						<fieldView mappingTo="2" />
						<fieldView mappingTo="3" type="select">
							<optionValues entitymodel="mes"
								descrMappingTo="2">
							</optionValues>
						</fieldView>
						<fieldView mappingTo="4" editable="false" type="select">
								<optionValues entitymodel="concurso"
									descrMappingTo="2">
								</optionValues>
							</fieldView>
						<fieldView mappingTo="6" type="select">
							<optionValues entitymodel="departamento"
								descrMappingTo="2">
							</optionValues>
						</fieldView>
						<fieldView mappingTo="7" styleCss="font-weight: bold;color: red;" />
						<fieldView mappingTo="8" styleCss="font-weight: bold;color: red;" />
						<fieldView mappingTo="9" styleCss="font-weight: bold;color: red;" />
					</fieldViewSet>
				</grid>
				
			</viewComponent>
		</action>

	</service>

	
</service:service-group>