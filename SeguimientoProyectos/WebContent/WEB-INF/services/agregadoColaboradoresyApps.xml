<?xml version="1.0" encoding="ISO-8859-1"?>

<service:service-group
xmlns:service="http://pcm.framework.org/service"
	xmlns:xs="http://www.w3.org/2001/XMLSchema" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://pcm.framework.org/service services.xsd">
	
	<service name="GestionImputadoColaboradoresApp" profile="ADMINISTRADOR, CONSULTOR_UTE">
		
		<action event="detail" submitError="GestionImputadoColaboradoresApp.detail"
			submitSucces="GestionImputadoColaboradoresApp.detail">
		
			<viewComponent>
				<form columns="53" title="Imputado por aplicacion">
					
					<userbuttons>
						<button link="PieChartStatsServlet" id="piechart"
							name="Piechart">
							<fieldViewSet nameSpace="piechart">
								<fieldView name="entidadGrafico" hidden="true" value="facturacionMesPorColaboradoryApp"/>
								<fieldView name="filteredByField" hidden="true" value="6=facturacionMesPorApp.1"/>
								<fieldView name="orderBy" hidden="true" value="3"/>							
								<fieldView name="fieldForGroupBy" type="select" editable="false">
									<optionValues>
										<option code="3" title="colaborador" selected="true"></option>
									</optionValues>
								</fieldView>
								<fieldView name="agregado" type="select">
									<optionValues>
										<option code="5" title="UTs realizadas"></option>
										<option code="7" title="facturado"></option>
									</optionValues>
								</fieldView>
								<fieldView name="operation" hidden="true" value="SUM"/>
							</fieldViewSet>
						</button>
					</userbuttons>
				
					<fieldViewSet entitymodel="facturacionMesPorApp"
						nameSpace="facturacionMesPorAppForm">
						<fieldset legend="Resumen mes-aplicacion">
							<fieldView mappingTo="1" hidden="true" />
							<fieldView mappingTo="2" editable="false" />
							<fieldView mappingTo="3" editable="false" type="select">
								<optionValues entitymodel="mes"
									descrMappingTo="2">
								</optionValues>
							</fieldView>
							<fieldView mappingTo="7" editable="false" type="select">
								<optionValues entitymodel="proyecto"
									descrMappingTo="2,3">
								</optionValues>
							</fieldView>
							<fieldView mappingTo="8" editable="false" styleCss="font-weight: bold;color: red;" />
							<fieldView mappingTo="9" editable="false" styleCss="font-weight: bold;color: red;" />
							<fieldView mappingTo="10" editable="false" styleCss="font-weight: bold;color: red;" />
						</fieldset>
					</fieldViewSet>
				</form>
				
				<grid title="Imputado/facturado por cada colaborador este mes" dependsOf="facturacionMesPorAppForm" orderDirection="asc"
					defaultOrderField="facturacionMesPorColaboradoryApp.1">
				
					<fieldViewSet entitymodel="facturacionMesPorColaboradoryApp" nameSpace="facturacionMesPorColaboradoryApp">
						<fieldView mappingTo="1" hidden="true" />
						<fieldView mappingTo="2" hidden="true" />
						<fieldView mappingTo="3" type="select" editable="false">
							<optionValues entitymodel="colaborador"
								descrMappingTo="2, 3">
							</optionValues>
						</fieldView>
						<fieldView mappingTo="5" editable="false" styleCss="font-weight: bold;color: black;" />
						<fieldView mappingTo="7" editable="false" styleCss="font-weight: bold;color: black;" />
					</fieldViewSet>
				</grid>
				
			</viewComponent>
		</action>
		
	</service>
	
	
</service:service-group>